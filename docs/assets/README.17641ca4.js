var s=Object.assign;import{g as a,m as n,r as l,o as t,c as e,w as p,a as o,b as c,F as d,f as r,h as i,t as h,i as u,j}from"./index.94997196.js";const g={setup(){const s=a([{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]),l=n().appContext.config.globalProperties;return{fileList:s,handleRemove:(s,a)=>{console.log(s,a)},handlePreview:s=>{console.log(s)},handleExceed:(s,a)=>{l.$message.warning(`当前限制选择 3 个文件，本次选择了 ${s.length} 个文件，共选择了 ${s.length+a.length} 个文件`)},beforeRemove:(s,a)=>l.$confirm(`确定移除 ${s.name}？`)}}},m=c("点击上传"),v=o("div",{class:"rol-upload__tip"},"只能上传 jpg/png 文件，且不超过 500kb",-1);g.render=function(s,a,n,c,d,r){const i=l("rol-button"),h=l("rol-upload");return t(),e(h,{class:"upload-demo",action:"https://jsonplaceholder.typicode.com/posts/",onPreview:c.handlePreview,onRemove:c.handleRemove,"before-remove":c.beforeRemove,multiple:"",limit:3,onExceed:c.handleExceed,"file-list":c.fileList},{tip:p((()=>[v])),default:p((()=>[o(i,{size:"small",type:"primary"},{default:p((()=>[m])),_:1})])),_:1},8,["onPreview","onRemove","before-remove","onExceed","file-list"])};const f={setup(){const s=a(""),l=n().appContext.config.globalProperties;return{imageUrl:s,handleAvatarSuccess:(a,n)=>{s.value=n.url},beforeAvatarUpload:s=>{const a="image/jpeg"===s.type,n=s.size/1024/1024<2;return a||l.$message.error("上传头像图片只能是 JPG 格式!"),n||l.$message.error("上传头像图片大小不能超过 2MB!"),a&&n}}}},b={key:1,class:"avatar-uploader-icon"};f.render=function(s,a,n,c,d,r){const i=l("rol-icon"),h=l("rol-upload");return t(),e(h,{class:"avatar-uploader",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,onSuccess:c.handleAvatarSuccess},{default:p((()=>[c.imageUrl?(t(),e("img",{key:0,src:c.imageUrl,class:"avatar"},null,8,["src"])):(t(),e("div",b,[o(i,{name:"plus"})]))])),_:1},8,["onSuccess"])};const _={setup(){const s=a(""),l=a(!1);n().appContext.config.globalProperties;return{dialogImageUrl:s,dialogVisible:l,handleRemove:(s,a)=>{console.log(s,a)},handlePictureCardPreview:a=>{s.value=a.url,l.value=!0}}}};_.render=function(s,a,n,c,r,i){const h=l("rol-icon"),u=l("rol-upload"),j=l("rol-modal");return t(),e(d,null,[o(u,{action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card",onPreview:c.handlePictureCardPreview,onRemove:c.handleRemove},{default:p((()=>[o(h,{name:"plus"})])),_:1},8,["onPreview","onRemove"]),o(j,{visible:c.dialogVisible,"onUpdate:visible":a[1]||(a[1]=s=>c.dialogVisible=s)},{default:p((()=>[o("img",{width:"100%",src:c.dialogImageUrl,alt:""},null,8,["src"])])),_:1},8,["visible"])],64)};const w={setup(){const s=a([{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]);n().appContext.config.globalProperties;return{fileList:s,handleRemove:(s,a)=>{console.log(s,a)},handlePreview:s=>{console.log(s)}}}},y=c("点击上传"),q=o("div",{class:"rol-upload__tip"},"只能上传jpg/png文件，且不超过500kb",-1);w.render=function(s,a,n,c,d,r){const i=l("rol-button"),h=l("rol-upload");return t(),e(h,{class:"upload-demo",action:"https://jsonplaceholder.typicode.com/posts/",onPreview:c.handlePreview,onRemove:c.handleRemove,"file-list":c.fileList,"onUpdate:file-list":a[1]||(a[1]=s=>c.fileList=s),"list-type":"picture"},{tip:p((()=>[q])),default:p((()=>[o(i,{size:"small",type:"primary"},{default:p((()=>[y])),_:1})])),_:1},8,["onPreview","onRemove","file-list"])};const k={},x={class:"rol-icon-upload"},P=o("div",{class:"rol-upload__text"},[c("将文件拖到此处，或"),o("em",null,"点击上传")],-1),R=o("div",{class:"rol-upload__tip",slot:"tip"},"只能上传jpg/png文件，且不超过500kb",-1);k.render=function(s,a){const n=l("rol-icon"),c=l("rol-upload");return t(),e(c,{class:"upload-demo",drag:"",action:"https://jsonplaceholder.typicode.com/posts/",multiple:""},{default:p((()=>[o("div",x,[o(n,{name:"upload"})]),P,R])),_:1})};const C={setup(){const s=a([{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]),n=a(null);return{fileList:s,upload:n,submitUpload:()=>{n.value.submit()},handleRemove:(s,a)=>{console.log(s,a)},handlePreview:s=>{console.log(s)}}}},L=c("选取文件"),U=c("上传到服务器"),I=o("div",{class:"rol-upload__tip"},"只能上传jpg/png文件，且不超过500kb",-1);C.render=function(s,a,n,c,d,r){const i=l("rol-button"),h=l("rol-upload");return t(),e(h,{class:"upload-demo",ref:"upload",action:"http://localhost:6061/upload",onPreview:c.handlePreview,onRemove:c.handleRemove,"file-list":c.fileList,"auto-upload":!1},{trigger:p((()=>[o(i,{size:"small",type:"primary"},{default:p((()=>[L])),_:1})])),tip:p((()=>[I])),default:p((()=>[o(i,{style:{"margin-left":"10px"},size:"small",type:"success",onClick:c.submitUpload},{default:p((()=>[U])),_:1},8,["onClick"])])),_:1},8,["onPreview","onRemove","file-list"])};const H=r({components:{vdpv_0:g,vdpv_1:f,vdpv_2:_,vdpv_3:w,vdpv_4:k,vdpv_5:C},setup(n){const l=a(),t=a(),e=a(),p=a(),o=a(),c=a(),d=[l,t,e,p,o,c],r=i({vdpv_0Height:"0px",vdpv_1Height:"0px",vdpv_2Height:"0px",vdpv_3Height:"0px",vdpv_4Height:"0px",vdpv_5Height:"0px"});return s(s({toggleCode:s=>{const a="vdpv_"+s;"0px"===r[a+"Height"]?r[a+"Height"]=((d[s].value?d[s].value.offsetHeight:0)||0)+"px":r[a+"Height"]="0px"}},h(r)),{vdpv_0Ref:l,vdpv_1Ref:t,vdpv_2Ref:e,vdpv_3Ref:p,vdpv_4Ref:o,vdpv_5Ref:c})}});H.$vd={matter:{title:"Upload",description:"Upload component doc",wrapperClass:"upload-demo-wrapper",tags:["components","form"]},toc:[{content:"Upload 上传",anchor:"upload-上传",level:1},{content:"点击上传",anchor:"点击上传",level:2},{content:"用户头像上传",anchor:"用户头像上传",level:2},{content:"照片墙",anchor:"照片墙",level:2},{content:"图片列表缩略图",anchor:"图片列表缩略图",level:2},{content:"拖拽上传",anchor:"拖拽上传",level:2},{content:"手动上传",anchor:"手动上传",level:2},{content:"Attribute",anchor:"attribute",level:3},{content:"Events",anchor:"events",level:3},{content:"Slot",anchor:"slot",level:3},{content:"Methods",anchor:"methods",level:3}]};const A=H,M={class:"vuedoc  upload-demo-wrapper"},$=j('<h1 id="upload-上传" data-source-line="2"><a class="markdownIt-Anchor" href="#upload-上传">#</a> Upload 上传</h1><p data-source-line="4">通过点击或者拖拽上传文件</p><p class="text-red-300">Upload 组件核心是uppy插件</p><h2 id="点击上传" data-source-line="8"><a class="markdownIt-Anchor" href="#点击上传">#</a> 点击上传</h2><p data-source-line="10">通过 slot 你可以传入自定义的上传按钮类型和文字提示。可通过设置<code>limit</code>和<code>on-exceed</code>来限制上传文件的个数和定义超出限制时的行为。可通过设置<code>before-remove</code>来阻止文件移除操作。</p><pre style="display:none;"></pre>',6),z={class:"vuedoc-demo "},E={class:"vuedoc-demo__inner"},S={class:"vuedoc-demo__preview"},F={ref:"vdpv_0Ref",class:"vuedoc-demo__sourceref"},V=j('<div class="vuedoc__code "><pre class="hljs vuedoc__hljs language-vue hljs--one-dark"><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">rol-upload</span>\n    <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;upload-demo&quot;</span>\n    <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>\n    @<span class="hljs-attr">preview</span>=<span class="hljs-string">&quot;handlePreview&quot;</span>\n    @<span class="hljs-attr">remove</span>=<span class="hljs-string">&quot;handleRemove&quot;</span>\n    <span class="hljs-attr">:before-remove</span>=<span class="hljs-string">&quot;beforeRemove&quot;</span>\n    <span class="hljs-attr">multiple</span>\n    <span class="hljs-attr">:limit</span>=<span class="hljs-string">&quot;3&quot;</span>\n    @<span class="hljs-attr">exceed</span>=<span class="hljs-string">&quot;handleExceed&quot;</span>\n    <span class="hljs-attr">:file-list</span>=<span class="hljs-string">&quot;fileList&quot;</span>\n  &gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">rol-button</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;small&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span>&gt;</span>点击上传<span class="hljs-tag">&lt;/<span class="hljs-name">rol-button</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">tip</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;rol-upload__tip&quot;</span>&gt;</span>只能上传 jpg/png 文件，且不超过 500kb<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">rol-upload</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="javascript">\n<span class="hljs-keyword">import</span> { ref, getCurrentInstance } <span class="hljs-keyword">from</span> <span class="hljs-string">&#39;vue&#39;</span>\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-function"><span class="hljs-title">setup</span>(<span class="hljs-params"></span>)</span> {\n    <span class="hljs-keyword">const</span> fileList = ref([\n      {\n        <span class="hljs-attr">name</span>: <span class="hljs-string">&#39;food.jpeg&#39;</span>,\n        <span class="hljs-attr">url</span>:\n          <span class="hljs-string">&#39;https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100&#39;</span>,\n      },\n      {\n        <span class="hljs-attr">name</span>: <span class="hljs-string">&#39;food2.jpeg&#39;</span>,\n        <span class="hljs-attr">url</span>:\n          <span class="hljs-string">&#39;https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100&#39;</span>,\n      },\n    ])\n\n    <span class="hljs-keyword">const</span> globalFuncs = getCurrentInstance().appContext.config.globalProperties\n\n    <span class="hljs-keyword">const</span> handleRemove = <span class="hljs-function">(<span class="hljs-params">file, fileList</span>) =&gt;</span> {\n      <span class="hljs-built_in">console</span>.log(file, fileList)\n    }\n    <span class="hljs-keyword">const</span> handlePreview = <span class="hljs-function"><span class="hljs-params">file</span> =&gt;</span> {\n      <span class="hljs-built_in">console</span>.log(file)\n    }\n    <span class="hljs-keyword">const</span> handleExceed = <span class="hljs-function">(<span class="hljs-params">files, fileList</span>) =&gt;</span> {\n      globalFuncs.$message.warning(\n        <span class="hljs-string">`当前限制选择 3 个文件，本次选择了 <span class="hljs-subst">${files.length}</span> 个文件，共选择了 <span class="hljs-subst">${files.length + fileList.length}</span> 个文件`</span>,\n      )\n    }\n    <span class="hljs-keyword">const</span> beforeRemove = <span class="hljs-function">(<span class="hljs-params">file, fileList</span>) =&gt;</span> {\n      <span class="hljs-keyword">return</span> globalFuncs.$confirm(<span class="hljs-string">`确定移除 <span class="hljs-subst">${file.name}</span>？`</span>)\n    }\n\n    <span class="hljs-keyword">return</span> {\n      fileList,\n      handleRemove,\n      handlePreview,\n      handleExceed,\n      beforeRemove,\n    }\n  },\n}\n</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</span></code></pre></div>',1),G=o("h2",{id:"用户头像上传","data-source-line":"79"},[o("a",{class:"markdownIt-Anchor",href:"#用户头像上传"},"#"),c(" 用户头像上传")],-1),J=o("p",{"data-source-line":"81"},[c("使用 "),o("code",null,"before-upload"),c(" 限制用户上传的图片格式和大小。")],-1),B=o("pre",{style:{display:"none"}},null,-1),O={class:"vuedoc-demo "},T={class:"vuedoc-demo__inner"},W={class:"vuedoc-demo__preview"},D={ref:"vdpv_1Ref",class:"vuedoc-demo__sourceref"},K=j('<div class="vuedoc__code "><pre class="hljs vuedoc__hljs language-vue hljs--one-dark"><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">rol-upload</span>\n    <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;avatar-uploader&quot;</span>\n    <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>\n    <span class="hljs-attr">:show-file-list</span>=<span class="hljs-string">&quot;false&quot;</span>\n    @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;handleAvatarSuccess&quot;</span>\n  &gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;imageUrl&quot;</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;imageUrl&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;avatar&quot;</span> /&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;avatar-uploader-icon&quot;</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">rol-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;plus&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">rol-icon</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">rol-upload</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="javascript">\n<span class="hljs-keyword">import</span> { ref, getCurrentInstance } <span class="hljs-keyword">from</span> <span class="hljs-string">&#39;vue&#39;</span>\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-function"><span class="hljs-title">setup</span>(<span class="hljs-params"></span>)</span> {\n    <span class="hljs-keyword">const</span> imageUrl = ref(<span class="hljs-string">&#39;&#39;</span>)\n\n    <span class="hljs-keyword">const</span> globalFuncs = getCurrentInstance().appContext.config.globalProperties\n\n    <span class="hljs-keyword">const</span> handleAvatarSuccess = <span class="hljs-function">(<span class="hljs-params">res, file</span>) =&gt;</span> {\n      imageUrl.value = file.url\n    }\n    <span class="hljs-keyword">const</span> beforeAvatarUpload = <span class="hljs-function"><span class="hljs-params">file</span> =&gt;</span> {\n      <span class="hljs-keyword">const</span> isJPG = file.type === <span class="hljs-string">&#39;image/jpeg&#39;</span>\n      <span class="hljs-keyword">const</span> isLt2M = file.size / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> &lt; <span class="hljs-number">2</span>\n\n      <span class="hljs-keyword">if</span> (!isJPG) {\n        globalFuncs.$message.error(<span class="hljs-string">&#39;上传头像图片只能是 JPG 格式!&#39;</span>)\n      }\n      <span class="hljs-keyword">if</span> (!isLt2M) {\n        globalFuncs.$message.error(<span class="hljs-string">&#39;上传头像图片大小不能超过 2MB!&#39;</span>)\n      }\n      <span class="hljs-keyword">return</span> isJPG &amp;&amp; isLt2M\n    }\n\n    <span class="hljs-keyword">return</span> {\n      imageUrl,\n      handleAvatarSuccess,\n      beforeAvatarUpload,\n    }\n  },\n}\n</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</span></code></pre></div>',1),N=o("h2",{id:"照片墙","data-source-line":"133"},[o("a",{class:"markdownIt-Anchor",href:"#照片墙"},"#"),c(" 照片墙")],-1),Q=o("p",{"data-source-line":"135"},[c("使用 "),o("code",null,"list-type"),c(" 属性来设置文件列表的样式。")],-1),X=o("pre",{style:{display:"none"}},null,-1),Y={class:"vuedoc-demo "},Z={class:"vuedoc-demo__inner"},ss={class:"vuedoc-demo__preview"},as={ref:"vdpv_2Ref",class:"vuedoc-demo__sourceref"},ns=j('<div class="vuedoc__code "><pre class="hljs vuedoc__hljs language-vue hljs--one-dark"><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">rol-upload</span>\n    <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>\n    <span class="hljs-attr">list-type</span>=<span class="hljs-string">&quot;picture-card&quot;</span>\n    @<span class="hljs-attr">preview</span>=<span class="hljs-string">&quot;handlePictureCardPreview&quot;</span>\n    @<span class="hljs-attr">remove</span>=<span class="hljs-string">&quot;handleRemove&quot;</span>\n  &gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">rol-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;plus&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">rol-icon</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">rol-upload</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">rol-modal</span> <span class="hljs-attr">v-model:visible</span>=<span class="hljs-string">&quot;dialogVisible&quot;</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;100%&quot;</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;dialogImageUrl&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">rol-modal</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="javascript">\n<span class="hljs-keyword">import</span> { ref, getCurrentInstance } <span class="hljs-keyword">from</span> <span class="hljs-string">&#39;vue&#39;</span>\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-function"><span class="hljs-title">setup</span>(<span class="hljs-params"></span>)</span> {\n    <span class="hljs-keyword">const</span> dialogImageUrl = ref(<span class="hljs-string">&#39;&#39;</span>)\n    <span class="hljs-keyword">const</span> dialogVisible = ref(<span class="hljs-literal">false</span>)\n\n    <span class="hljs-keyword">const</span> globalFuncs = getCurrentInstance().appContext.config.globalProperties\n\n    <span class="hljs-keyword">const</span> handleRemove = <span class="hljs-function">(<span class="hljs-params">file, fileList</span>) =&gt;</span> {\n      <span class="hljs-built_in">console</span>.log(file, fileList)\n    }\n    <span class="hljs-keyword">const</span> handlePictureCardPreview = <span class="hljs-function"><span class="hljs-params">file</span> =&gt;</span> {\n      dialogImageUrl.value = file.url\n      dialogVisible.value = <span class="hljs-literal">true</span>\n    }\n\n    <span class="hljs-keyword">return</span> {\n      dialogImageUrl,\n      dialogVisible,\n      handleRemove,\n      handlePictureCardPreview,\n    }\n  },\n}\n</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</span></code></pre></div>',1),ls=o("h2",{id:"图片列表缩略图","data-source-line":"181"},[o("a",{class:"markdownIt-Anchor",href:"#图片列表缩略图"},"#"),c(" 图片列表缩略图")],-1),ts=o("pre",{style:{display:"none"}},null,-1),es={class:"vuedoc-demo "},ps={class:"vuedoc-demo__inner"},os={class:"vuedoc-demo__preview"},cs={ref:"vdpv_3Ref",class:"vuedoc-demo__sourceref"},ds=j('<div class="vuedoc__code "><pre class="hljs vuedoc__hljs language-vue hljs--one-dark"><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">rol-upload</span>\n    <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;upload-demo&quot;</span>\n    <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>\n    @<span class="hljs-attr">preview</span>=<span class="hljs-string">&quot;handlePreview&quot;</span>\n    @<span class="hljs-attr">remove</span>=<span class="hljs-string">&quot;handleRemove&quot;</span>\n    <span class="hljs-attr">v-model:file-list</span>=<span class="hljs-string">&quot;fileList&quot;</span>\n    <span class="hljs-attr">list-type</span>=<span class="hljs-string">&quot;picture&quot;</span>\n  &gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">rol-button</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;small&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span>&gt;</span>点击上传<span class="hljs-tag">&lt;/<span class="hljs-name">rol-button</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">tip</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;rol-upload__tip&quot;</span>&gt;</span>只能上传jpg/png文件，且不超过500kb<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">rol-upload</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="javascript">\n<span class="hljs-keyword">import</span> { ref, getCurrentInstance } <span class="hljs-keyword">from</span> <span class="hljs-string">&#39;vue&#39;</span>\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-function"><span class="hljs-title">setup</span>(<span class="hljs-params"></span>)</span> {\n    <span class="hljs-keyword">const</span> fileList = ref([\n      {\n        <span class="hljs-attr">name</span>: <span class="hljs-string">&#39;food.jpeg&#39;</span>,\n        <span class="hljs-attr">url</span>:\n          <span class="hljs-string">&#39;https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100&#39;</span>,\n      },\n      {\n        <span class="hljs-attr">name</span>: <span class="hljs-string">&#39;food2.jpeg&#39;</span>,\n        <span class="hljs-attr">url</span>:\n          <span class="hljs-string">&#39;https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100&#39;</span>,\n      },\n    ])\n\n    <span class="hljs-keyword">const</span> globalFuncs = getCurrentInstance().appContext.config.globalProperties\n\n    <span class="hljs-keyword">const</span> handleRemove = <span class="hljs-function">(<span class="hljs-params">file, fileList</span>) =&gt;</span> {\n      <span class="hljs-built_in">console</span>.log(file, fileList)\n    }\n    <span class="hljs-keyword">const</span> handlePreview = <span class="hljs-function"><span class="hljs-params">file</span> =&gt;</span> {\n      <span class="hljs-built_in">console</span>.log(file)\n    }\n\n    <span class="hljs-keyword">return</span> {\n      fileList,\n      handleRemove,\n      handlePreview,\n    }\n  },\n}\n</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</span></code></pre></div>',1),rs=o("h2",{id:"拖拽上传","data-source-line":"237"},[o("a",{class:"markdownIt-Anchor",href:"#拖拽上传"},"#"),c(" 拖拽上传")],-1),is=o("pre",{style:{display:"none"}},null,-1),hs={class:"vuedoc-demo "},us={class:"vuedoc-demo__inner"},js={class:"vuedoc-demo__preview"},gs={ref:"vdpv_4Ref",class:"vuedoc-demo__sourceref"},ms=j('<div class="vuedoc__code "><pre class="hljs vuedoc__hljs language-vue hljs--one-dark"><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">rol-upload</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;upload-demo&quot;</span> <span class="hljs-attr">drag</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span> <span class="hljs-attr">multiple</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;rol-icon-upload&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">rol-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;upload&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">rol-icon</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;rol-upload__text&quot;</span>&gt;</span>将文件拖到此处，或<span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>点击上传<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;rol-upload__tip&quot;</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;tip&quot;</span>&gt;</span>只能上传jpg/png文件，且不超过500kb<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">rol-upload</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n</span></code></pre></div>',1),vs=o("h2",{id:"手动上传","data-source-line":"249"},[o("a",{class:"markdownIt-Anchor",href:"#手动上传"},"#"),c(" 手动上传")],-1),fs=o("pre",{style:{display:"none"}},null,-1),bs={class:"vuedoc-demo "},_s={class:"vuedoc-demo__inner"},ws={class:"vuedoc-demo__preview"},ys={ref:"vdpv_5Ref",class:"vuedoc-demo__sourceref"},qs=j('<div class="vuedoc__code "><pre class="hljs vuedoc__hljs language-vue hljs--one-dark"><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">rol-upload</span>\n    <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;upload-demo&quot;</span>\n    <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;upload&quot;</span>\n    <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:6061/upload&quot;</span>\n    @<span class="hljs-attr">preview</span>=<span class="hljs-string">&quot;handlePreview&quot;</span>\n    @<span class="hljs-attr">remove</span>=<span class="hljs-string">&quot;handleRemove&quot;</span>\n    <span class="hljs-attr">:file-list</span>=<span class="hljs-string">&quot;fileList&quot;</span>\n    <span class="hljs-attr">:auto-upload</span>=<span class="hljs-string">&quot;false&quot;</span>\n  &gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">trigger</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">rol-button</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;small&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span>&gt;</span>选取文件<span class="hljs-tag">&lt;/<span class="hljs-name">rol-button</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">rol-button</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 10px;&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;small&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;success&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;submitUpload&quot;</span>&gt;</span>上传到服务器<span class="hljs-tag">&lt;/<span class="hljs-name">rol-button</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">tip</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;rol-upload__tip&quot;</span>&gt;</span>只能上传jpg/png文件，且不超过500kb<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">rol-upload</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="javascript">\n<span class="hljs-keyword">import</span> { ref, getCurrentInstance } <span class="hljs-keyword">from</span> <span class="hljs-string">&#39;vue&#39;</span>\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-function"><span class="hljs-title">setup</span>(<span class="hljs-params"></span>)</span> {\n    <span class="hljs-keyword">const</span> fileList = ref([\n      {\n        <span class="hljs-attr">name</span>: <span class="hljs-string">&#39;food.jpeg&#39;</span>,\n        <span class="hljs-attr">url</span>:\n          <span class="hljs-string">&#39;https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100&#39;</span>,\n      },\n      {\n        <span class="hljs-attr">name</span>: <span class="hljs-string">&#39;food2.jpeg&#39;</span>,\n        <span class="hljs-attr">url</span>:\n          <span class="hljs-string">&#39;https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100&#39;</span>,\n      },\n    ])\n\n    <span class="hljs-keyword">const</span> upload = ref(<span class="hljs-literal">null</span>)\n\n    <span class="hljs-keyword">const</span> submitUpload = <span class="hljs-function">() =&gt;</span> {\n      upload.value.submit()\n    }\n\n    <span class="hljs-keyword">const</span> handleRemove = <span class="hljs-function">(<span class="hljs-params">file, fileList</span>) =&gt;</span> {\n      <span class="hljs-built_in">console</span>.log(file, fileList)\n    }\n    <span class="hljs-keyword">const</span> handlePreview = <span class="hljs-function"><span class="hljs-params">file</span> =&gt;</span> {\n      <span class="hljs-built_in">console</span>.log(file)\n    }\n\n    <span class="hljs-keyword">return</span> {\n      fileList,\n      upload,\n      submitUpload,\n      handleRemove,\n      handlePreview,\n    }\n  },\n}\n</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</span></code></pre></div>',1),ks=j('<h3 id="attribute" data-source-line="315"><a class="markdownIt-Anchor" href="#attribute">#</a> Attribute</h3><table data-source-line="317"><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>action</td><td>必选参数，上传的地址</td><td>string</td><td>—</td><td>—</td></tr><tr><td>headers</td><td>设置上传的请求头部</td><td>object</td><td>—</td><td>—</td></tr><tr><td>multiple</td><td>是否支持多选文件</td><td>boolean</td><td>—</td><td>—</td></tr><tr><td>data</td><td>上传时附带的额外参数</td><td>object</td><td>—</td><td>—</td></tr><tr><td>name</td><td>上传的文件字段名</td><td>string</td><td>—</td><td>file</td></tr><tr><td>with-credentials</td><td>支持发送 cookie 凭证信息</td><td>boolean</td><td>—</td><td>false</td></tr><tr><td>show-file-list</td><td>是否显示已上传文件列表</td><td>boolean</td><td>—</td><td>true</td></tr><tr><td>drag</td><td>是否启用拖拽上传</td><td>boolean</td><td>—</td><td>false</td></tr><tr><td>accept</td><td>接受上传的<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept">文件类型</a>（thumbnail-mode 模式下此参数无效）</td><td>string</td><td>—</td><td>—</td></tr><tr><td>before-upload</td><td>上传文件之前的钩子，参数为上传的文件，若返回 false 或者返回 Promise 且被 reject，则停止上传。</td><td>function(file)</td><td>—</td><td>—</td></tr><tr><td>before-remove</td><td>删除文件之前的钩子，参数为上传的文件和文件列表，若返回 false 或者返回 Promise 且被 reject，则停止删除。</td><td>function(file, fileList)</td><td>—</td><td>—</td></tr><tr><td>list-type</td><td>文件列表的类型</td><td>string</td><td>text/picture/picture-card</td><td>text</td></tr><tr><td>auto-upload</td><td>是否在选取文件后立即进行上传</td><td>boolean</td><td>—</td><td>true</td></tr><tr><td>file-list</td><td>上传的文件列表, 例如: [{name: ‘food.jpg’, url: ‘<a href="https://xxx.cdn.com/xxx.jpg">https://xxx.cdn.com/xxx.jpg</a>’}]</td><td>array</td><td>—</td><td>[]</td></tr><tr><td>disabled</td><td>是否禁用</td><td>boolean</td><td>—</td><td>false</td></tr><tr><td>limit</td><td>最大允许上传个数</td><td>number</td><td>—</td><td>—</td></tr></tbody></table><h3 id="events" data-source-line="336"><a class="markdownIt-Anchor" href="#events">#</a> Events</h3><table data-source-line="338"><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>preview</td><td>点击文件列表中已上传的文件时的钩子</td><td>function(file)</td><td>—</td><td>—</td></tr><tr><td>remove</td><td>文件列表移除文件时的钩子</td><td>function(file, fileList)</td><td>—</td><td>—</td></tr><tr><td>success</td><td>文件上传成功时的钩子</td><td>function(response, file, fileList)</td><td>—</td><td>—</td></tr><tr><td>error</td><td>文件上传失败时的钩子</td><td>function(err, file, fileList)</td><td>—</td><td>—</td></tr><tr><td>progress</td><td>文件上传时的钩子</td><td>function(event, file, fileList)</td><td>—</td><td>—</td></tr><tr><td>rol-</td><td>文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用</td><td>function(file, fileList)</td><td>—</td><td>—</td></tr><tr><td>exceed</td><td>文件超出个数限制时的钩子</td><td>function(files, fileList)</td><td>—</td><td>-</td></tr></tbody></table><h3 id="slot" data-source-line="348"><a class="markdownIt-Anchor" href="#slot">#</a> Slot</h3><table data-source-line="350"><thead><tr><th>name</th><th>说明</th></tr></thead><tbody><tr><td>trigger</td><td>触发文件选择框的内容</td></tr><tr><td>tip</td><td>提示说明文字</td></tr></tbody></table><h3 id="methods" data-source-line="355"><a class="markdownIt-Anchor" href="#methods">#</a> Methods</h3><table data-source-line="357"><thead><tr><th>方法名</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>submit</td><td>手动上传文件列表</td><td>—</td></tr><tr><td>uppy</td><td>Uppy 实例</td><td>—</td></tr></tbody></table>',8);A.render=function(s,a,n,p,c,d){const r=l("vdpv_0"),i=l("vdpv_1"),h=l("vdpv_2"),j=l("vdpv_3"),g=l("vdpv_4"),m=l("vdpv_5");return t(),e("div",M,[$,o("div",z,[o("div",E,[o("div",S,[o(r)]),o("div",{style:{height:s.vdpv_0Height},class:"vuedoc-demo__source"},[o("div",F,[V],512)],4),o("div",{class:"vuedoc-demo__footer",onClick:a[1]||(a[1]=a=>s.toggleCode(0))},u(s.vdpv_0Height>0?"hidden":"show"),1)])]),G,J,B,o("div",O,[o("div",T,[o("div",W,[o(i)]),o("div",{style:{height:s.vdpv_1Height},class:"vuedoc-demo__source"},[o("div",D,[K],512)],4),o("div",{class:"vuedoc-demo__footer",onClick:a[2]||(a[2]=a=>s.toggleCode(1))},u(s.vdpv_1Height>0?"hidden":"show"),1)])]),N,Q,X,o("div",Y,[o("div",Z,[o("div",ss,[o(h)]),o("div",{style:{height:s.vdpv_2Height},class:"vuedoc-demo__source"},[o("div",as,[ns],512)],4),o("div",{class:"vuedoc-demo__footer",onClick:a[3]||(a[3]=a=>s.toggleCode(2))},u(s.vdpv_2Height>0?"hidden":"show"),1)])]),ls,ts,o("div",es,[o("div",ps,[o("div",os,[o(j)]),o("div",{style:{height:s.vdpv_3Height},class:"vuedoc-demo__source"},[o("div",cs,[ds],512)],4),o("div",{class:"vuedoc-demo__footer",onClick:a[4]||(a[4]=a=>s.toggleCode(3))},u(s.vdpv_3Height>0?"hidden":"show"),1)])]),rs,is,o("div",hs,[o("div",us,[o("div",js,[o(g)]),o("div",{style:{height:s.vdpv_4Height},class:"vuedoc-demo__source"},[o("div",gs,[ms],512)],4),o("div",{class:"vuedoc-demo__footer",onClick:a[5]||(a[5]=a=>s.toggleCode(4))},u(s.vdpv_4Height>0?"hidden":"show"),1)])]),vs,fs,o("div",bs,[o("div",_s,[o("div",ws,[o(m)]),o("div",{style:{height:s.vdpv_5Height},class:"vuedoc-demo__source"},[o("div",ys,[qs],512)],4),o("div",{class:"vuedoc-demo__footer",onClick:a[6]||(a[6]=a=>s.toggleCode(5))},u(s.vdpv_5Height>0?"hidden":"show"),1)])]),ks])};export default A;
